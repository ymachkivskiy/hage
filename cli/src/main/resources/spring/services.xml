<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns="http://www.springframework.org/schema/beans"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">

    <bean id="hage.service.commandLine.arguments" class="org.hage.cli.CommandLineArgumentsService"/>

    <bean id="hage.service.configuration"
          class="org.hage.configuration.service.ConfigurationStorageService"
          parent="hage.component.stateful.base"/>

    <bean id="hage.service.configurationLoader"
          class="org.hage.configuration.service.ConfigurationLoaderService"
          parent="hage.component.stateful.base"/>

    <bean id="hage.configurationProvider"
          class="org.hage.cli.ArgumentBasedXmlConfigurationProvider"/>

    <bean id="hage.service.configurationSplitter"
          class="org.hage.configuration.service.ConfigurationSplitService"
          parent="hage.component.stateful.base"/>

    <bean id="hage.service.configurationSplitter.ConfSplitterWorker"
            class="org.hage.configuration.split.SimplePerformanceBasedConfigurationSplitAllocator"/>

    <bean id="hage.service.performance.NodePerformanceManager" class="org.hage.performance.node.CombinedNodePerformanceManager">
        <property name="measurers">
            <list>
                <bean class="org.hage.performance.node.measure.impl.MaxMemoryPerformanceMeasurer"/>
                <bean class="org.hage.performance.node.measure.impl.ConcurrencyPerformanceMeasurer"/>
            </list>
        </property>
    </bean>

    <bean id="hage.service.performance.normalizer.scaled"
          class="org.hage.performance.node.normalize.scaled.ScaledNormalizerProvider"/>

    <bean id="hage.service.performance.ClusterPerformanceManager" class="org.hage.performance.cluster.CombinedClusterPerformanceManager"/>

</beans>